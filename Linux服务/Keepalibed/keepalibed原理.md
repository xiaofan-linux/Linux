### keepalibed原理

###### VRRP协议工作原理

- 1.VRRP协议：虚拟路由冗余协议,VRRP的出现就是为了解决静态路由的单点故障
- 2.VRRP是通过一种竞选协议机制来将路由任务交给VRRP路由器
- 3.VRRP是用IP多播的方式实现通信
- 4.主发包，备接包，当备接不到主发的包时，就启动接管程序接管主的资源，备可以有多个，通过优先级竞选
- 5.VRRP使用了加密协议

###### keepalibed原理

- keepalibed通过VRRP协议通信，通过竞选机制确定主备，主优先级高于备，工作时主会得所有的资源，
- 主节点发送心跳消息，备节点监听，一旦备节点监听不到来自主节点的心跳信息，
- 备节点就会调用自身资源接管所有的服务，
- 当主节点回复故障，备节点会释放自己接管的所有服务。恢复到原来的备用角色。
